apiVersion: apps/v1
kind: Deployment
metadata:
name: demo-app
namespace: demo
spec:
replicas: 2
selector:
matchLabels: { app: demo-app }
template:
metadata:
labels: { app: demo-app }
spec:
containers:
- name: demo-app
image: REPLACE_WITH_ECR_URL:latest
imagePullPolicy: Always
ports:
- containerPort: 3000
env:
- name: APP_VERSION
value: "v1"
resources:
requests: { cpu: "100m", memory: "128Mi" }
limits: { cpu: "500m", memory: "256Mi" }